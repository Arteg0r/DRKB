#poi #spec

## Различение понятий

- Изначальный максимальный уровень HP Героя - максимальное количество очков здоровья у Героя в библиотеке. 
- Текущий максимальный уровень HP Героя - Герой может улучшать/ухудшать этот показатель в событиях.
- Текущий уровень здоровья Героя - остаток здоровья Героя в любой момент времени. На старте экспедиции равен изначальному максимальному HP. Не может быть выше текущего максимального уровня HP Героя.


## Введение

Механика здоровья повышает ценность очков здоровья Героев в отряде. Игра предлагает  следить за уровнем здоровья Героев в Отряде, усложняя условия вступления в бой. Игрок вынужден решать - идти в следующий бой с текущими показателями здоровья или восстановить здоровье Отряда перед боем.


## Компоненты механики

- Новое правило 1: здоровье автоматически не восстанавливается после боя, остаток  здоровья фиксируется при выходе из боя. Если до следующего сражения не произошло восстановление здоровья через Событие или Источник, Герои входят в новый бой с уровнем здоровья, который был зафиксирован на момент окончания предыдущего боя.
- Новое правило 2: если игрок выбирает в Событии вариант с восстановлением здоровья, Герой полностью излечивается.
- Портреты Героев (согласно макету Саши) с динамическим hp-баром у каждого.
- Новый POI - Колодец Здоровья. Полностью восстанавливает здоровье всех _живых_ Героев в отряде до максимального текущего уровня здоровья каждого Героя.


## Пояснения к Правилу 2

В Событии Гекса игроку может выпасть восстановление здоровья. При соответствующем выборе Герой полностью - до текущего максимального уровня - восполняет свое здоровье.

В таблицу Героев, лист Гексы/Черты внесены соотвествующие пояснения в формате комментариев. 


## Портреты Героев на Карте Мира

Предлагаю остановиться на варианте GUI, предложенном Сашей. В этом варианте портреты Героев с динамическим HP-баром занимают левый верхний угол экрана.

HP-бар работает и выглядит как бар в бою - шкала заполняется относительно максимального уровня HP Героя (а не как в библиотеке).

![Design - карта.png](https://github.com/Arteg0r/DRKB/blob/main/Design%20-%20%D0%BA%D0%B0%D1%80%D1%82%D0%B0.png)


## Колодец Здоровья: механизм, спавн,  внешний вид

Колодцы спавнятся на Карте Мира случайным образом. Количество колодцев зависит от конечного размера карты. Для проверки работы механики можно установить количество Колодцев с помощью рандома: от 5 до 10 штук на экспедицию.

Колодец срабатывает автоматически: когда отряд Героев оказывается на клетке с ним, HP-бары всех _живых_ героев в активном Отряде заполняются до текущего максимального HP. Посещать колодец можно один раз.

Колодец является анимированным спрайтом, изображащим колодец. Спрайт героя помещается поверх спрайта колодца. После ухода героя с гекса с колодцем спрайт работающего колодца заменяется другим спрайтом - использованного (без анимации).

Файлы спрайтов лежат в папке POI/Well:

https://drive.google.com/drive/folders/1O0unD_Ng8pSNWIHC-xxX7SCh8Ts-n6yw



