
## Введение

Согласно текущему пониманию дизайна игры, награда за выигранный бой - перманентный ресурс (ранее в документах встречались Очки Славы, Опыт Игрока), переносящийся после потери отряда в "мету". Там он тратится для разблокирования новых возможностей, то есть является ключевым для прогресса игрока в игре.

На текущий момент все существующие возможности игры доступны без ограничений по мере добавления в проект. Награда вводится в проект для того, чтобы, во-первых, заложить основы подобного механизма и воспользоваться им в дальнейшем, во-вторых, в качестве временного показателя результата успешности в процессе плейтестирования.


## Компоненты

- Формула расчета награды за бой
- Счетчик награды в катке (GUI в карте мира)
- Суммирующий счетчик в Библиотеке 


## Внешний вид награды

На текущий момент награды не имеют практического применения - воспользоваться ими нельзя, можно только любоваться :)

Для простоты принимаем символом единицы награды - одну монету. Монеты суммируются на счетах: в Карте Мира и Библиотеке. Монеты выглядят как число у иконки в GUI (можно взять вариант Саши - кошелек), по отдельности в игре не появляются.

## Формула расчета

Награда начисляется за "пролитую кровь" противника. Каждое вражеская единица приравнивается к одной монете.

Для расчета также применяется коэффициент, который вычисляется следующим образом:

> Коэфф = Сумма HP всех героев противника / Сумма HP  всех Героев Отряда

Коэффициент ориентируется на соотношение суммарного здоровья отряда противника и игрока. Если игрок побеждает "толстого" противника скромными силами - получает больше, если наваливается толпой на единственного скелета - получает меньше.

Таким образом, формула расчет такая: 

>Награда за бой = Коэфф * Сумма HP противников

Финальное значение награды округляется до целого числа.

Если игрок проиграл бой, награда **не рассчитывается**.


## Счетчик награды на Карте Мира

Счет наград размещен в правом верхнем углу на Карте Мира согласно:
 
![Design - карта.png](https://github.com/Arteg0r/DRKB/blob/main/Design%20-%20%D0%BA%D0%B0%D1%80%D1%82%D0%B0.png)

После каждого выхода из боя к текущему значению счетчика (на старте катки = 0) добавляется полученная в бою награда.


## Счетчик награды в Библиотеке

Счетчик награды в Библиотеке суммирует награды, полученные в разных экспедициях. После возвращения из Экспедиции в Библиотеку значение счетчика наград в Экспедиции суммируется со значением счетчика Библиотеки (если еще не было экспедиций - там 0).

Перенос значения счетчика происходит как при проигрыше в бою (за него награда не начисляется), так и если игрок прервал Экспедицию через игровое меню.